<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"lib_GraphClient_GraphClient.js.html":{"id":"lib_GraphClient_GraphClient.js.html","title":"Source: lib/GraphClient/GraphClient.js","body":" FAIRsharing.org Classes GraphQLClientRESTClient Global deleteNodegetResourceRecordsisNodePresentpathTototalResourceRecords Source: lib/GraphClient/GraphClient.js const axios = require(\"axios\"); import Fragments from \"./queries/fragments/fragments.json\" /* istanbul ignore next */ class GraphQLClient { /** The GraphQLClient retrieves data from the FAIRSharing API and sends it to the front-end. * Be careful, this is a singleton and trying to cast new instances will return the existing instance. Be * also careful, its constructor is async !! * @returns {Promise} - to use this object you need to do \"await new ClassName()\" or use .then(callback) */ constructor(){ this.initalizeHeader(); if (GraphQLClient._instance){ return GraphQLClient._instance } GraphQLClient._instance = this; this.url = process.env.VUE_APP_API_ENDPOINT + \"/graphql\"; } /** * Execute the given query (coming from a json file, see /queries/getRecords.json) * @param {Object} query - the query coming from the JSON file * sending to the API. * @returns {Promise} */ async executeQuery(query){ let client = this; let queryString = { query: `{${client.buildQuery(query)}}` }; let resp = await this.getData(queryString); if (resp.data.errors) { return resp.data.errors; } return resp.data.data } /** * Takes the query, post it with axios and returns the raw data * @param {Object} queryString - processed request coming out of buildQuery() or a GraphQL query string * @returns {Promise} - an axios promise representing the server response. */ async getData(queryString){ let client = this; const fullQuery = { method: \"post\", baseURL: client.url, data: queryString, headers: client.headers }; return axios(fullQuery); } /** * Transform the JSON query into a string for graphQL * @param {Object} query - the query coming from the JSON file * @returns {Object} {query: queryString} - a valid graphQL query string to execute */ buildQuery(query){ let client = this; let queryString = `${query[\"queryName\"]}`; // query name // Handle query parameters if (query.queryParam) { queryString += \"(\"; Object.keys(query.queryParam).forEach(function(key){ if (typeof query.queryParam[key] === \"boolean\" || typeof query.queryParam[key] === \"number\"){ queryString += `${key}:${query.queryParam[key]} `; } else if (typeof query.queryParam[key] === \"string\") { queryString += `${key}:\"${query.queryParam[key]}\" `; } else { let param = []; query.queryParam[key].forEach(function(paramVal){ typeof paramVal !== \"number\" ? param.push(\"\\\"\" + paramVal + \"\\\"\") : param.push(paramVal); }); queryString += `${key}:[${param.join(\",\")}]`; } }); queryString += \")\"; } // Handle query fields if (query.fields){ queryString += \"{\"; query.fields.forEach(function(field){ if (typeof field === \"string\"){ queryString += ` ${field}`; } if (typeof field === \"object\"){ if (\"$ref\" in field){ let myRef = Fragments[field[\"$ref\"]]; for (let subField of myRef){ if (typeof subField === \"string\"){ queryString += ` ${subField}`; } else { queryString += ` ${client.buildQuery(subField)}`; } } } else { queryString += ` ${field.name}{`; field.fields.forEach(function(subField){ if (typeof subField === \"string\"){ queryString += `${subField} `; } else { queryString += `${client.buildQuery(subField)}`; } }); queryString += \"}\"; } } }); queryString += \"}\"; } return queryString; } /** * Add the authorization token to the headers * @param {String} jwt - the user json web token */ setHeader(jwt){ this.headers['Authorization'] = `Bearer ${jwt}`; } initalizeHeader(){ this.headers = { \"Accept\": \"application/json\", \"Content-Type\": \"application/json\", }; this.headers['X-Client-Id'] = process.env.VUE_APP_CLIENT_ID; /* istanbul ignore if */ if (this.headers['X-Client-Id'] === undefined){ delete this.headers['X-Client-Id'] } } } export default GraphQLClient; × Search results Close "},"lib_Client_RESTClient.js.html":{"id":"lib_Client_RESTClient.js.html","title":"Source: lib/Client/RESTClient.js","body":" FAIRsharing.org Classes GraphQLClientRESTClient Global deleteNodegetResourceRecordsisNodePresentpathTototalResourceRecords Source: lib/Client/RESTClient.js import axios from \"axios\" class RESTClient { /** * The RESTClient is a singleton class that handles the connection and data exchange from the back-end * REST API. */ constructor(){ if (RESTClient._instance){ return RESTClient._instance } RESTClient._instance = this; this.baseURL = process.env.VUE_APP_API_ENDPOINT; this.headers = { \"Accept\": \"application/json\", \"Content-Type\": \"application/json\", \"Cache-Control\": \"no-cache\" }; this.headers['X-Client-Id'] = process.env.VUE_APP_CLIENT_ID; } /** * Trigger the given query with Axios * @param query * @returns {Promise&lt;*&gt;} */ async executeQuery(query) { try { return await axios(query); } catch(e){ return({data: {error: e}}); } } /** * Get records data * @returns {Promise} */ async getRecordsData(){ let _client = this; const request = { method: \"get\", baseURL: _client.baseURL + \"/record_types\", }; let response = await _client.executeQuery(request); return response.data; } } export default RESTClient; × Search results Close "},"utils_Others_calculateRecords.js.html":{"id":"utils_Others_calculateRecords.js.html","title":"Source: utils/Others/calculateRecords.js","body":" FAIRsharing.org Classes GraphQLClientRESTClient Global deleteNodegetResourceRecordsisNodePresentpathTototalResourceRecords Source: utils/Others/calculateRecords.js import {mapActions, mapState} from \"vuex\"; const allSubjectsData = { name: \"Subject\", value: 0, children: '', } const allDomainData = { name: \"Domain\", value: 0, children: \"\", } const topSubjects = [ { id: 700, name: \"Natural Science\", records_count: 0 }, { id: 468, name: \"Engineering Science\", records_count: 0 }, { id: 613, name: \"Humanities and Social Science\", records_count: 0 }, { id: 768, name: \"Subject Agnostic\", records_count: 0 } ] const calculateRecords = { computed: { ...mapState(\"variableTagStore\", [\"variableResponse\", \"loadingStatus\"]), }, methods: { ...mapActions(\"variableTagStore\", [\"fetchVariableTags\", \"resetVariableTags\"]), /** * * @param {Array} Subjects - Subjects array * @returns {Object} - All four subjects i.e. Engineering Science, Natural Science, Subject Agnostic, Humanities And Social Science with */ displayAllTopSubjects(subjects) { const fetchedSubjectNames = subjects.map(({ id }) =&gt; id) //All the selected resource const missingSubject = topSubjects.filter(({ id }) =&gt;!fetchedSubjectNames.includes(id)); if (missingSubject &amp;&amp; missingSubject.length) { missingSubject.forEach((subject) =&gt; { allSubjectsData[\"children\"].push(subject) }) } return allSubjectsData }, /** * * @param {String} resourceSelected - The resource selected * @param {String} subjectSelected - The subject selected * @param {String} domainSelected - The domain selected * @param {String} groupBy - group by Subject/Domain * @param addonfilters - adding more filters * @returns {Object} - All Subjects Data */ async calculateRecords(resourceSelected, subjectSelected, domainSelected, groupBy, addonfilters) { let result //Using variableFilter query await this.fetchVariableTags([resourceSelected, subjectSelected, domainSelected, groupBy, addonfilters]) if (groupBy === \"subject\") { allSubjectsData[\"children\"] = this.variableResponse result = this.displayAllTopSubjects(allSubjectsData[\"children\"]) } else if(groupBy === \"domain\"){ allDomainData[\"children\"] = this.variableResponse result = allDomainData } return result }, } } export default calculateRecords; × Search results Close "},"utils_ResourceUtils_calculateResourceRecords.js.html":{"id":"utils_ResourceUtils_calculateResourceRecords.js.html","title":"Source: utils/ResourceUtils/calculateResourceRecords.js","body":" FAIRsharing.org Classes GraphQLClientRESTClient Global deleteNodegetResourceRecordsisNodePresentpathTototalResourceRecords Source: utils/ResourceUtils/calculateResourceRecords.js import {mapActions, mapState} from \"vuex\"; import otherResourcesSelectedStore from \"@/store\" const calculateResourceRecords = { computed: { ...mapState(\"multiTagsStore\", [\"fairSharingRecords\", \"loadingStatus\"]), }, destroyed() { this.resetMultiTags() }, methods: { ...mapActions(\"multiTagsStore\", [\"fetchMultiTagsTerms\", \"resetMultiTags\"]), /** * Calculate the number of fairSharing records for each record type and assign the total * @param {String} resourceSelected - The resource selected * @param {String} subjectSelected - The subject selected * @param {String} domainSelected - The domain selected * @param {Array} otherResourceType - All the recordTypes * @returns {Number} - Number of each recordsTpe */ async calculateRecords(resourceSelected, subjectSelected, domainSelected, otherResourceType) { //Using multiTagFilter Query await this.fetchMultiTagsTerms([resourceSelected, subjectSelected, domainSelected]) for (let childResource of otherResourceType) { if (childResource !== null) { childResource[\"records_count\"] = 0 this.fairSharingRecords.filter(ele =&gt; { if (ele[\"type\"] === this.formatString(childResource[\"name\"])) { childResource[\"records_count\"]++ } }) } } otherResourcesSelectedStore.commit(\"otherResourcesSelectedStore/otherResourceSelected\", otherResourceType) }, } } export default calculateResourceRecords; × Search results Close "},"utils_ResourceUtils_createResourceStructure.js.html":{"id":"utils_ResourceUtils_createResourceStructure.js.html","title":"Source: utils/ResourceUtils/createResourceStructure.js","body":" FAIRsharing.org Classes GraphQLClientRESTClient Global deleteNodegetResourceRecordsisNodePresentpathTototalResourceRecords Source: utils/ResourceUtils/createResourceStructure.js import {mapActions, mapState} from \"vuex\"; const allResourceData = { name: \"Resource\", records_count: 0, children: [], } const createResourceStructure = { computed: { ...mapState(\"recordTypeStore\", [\"allRecordTypes\", \"loadingData\"]), }, methods: { ...mapActions(\"recordTypeStore\", [\"fetchAllRecordTypes\", \"resetRecords\"]), /** * Creates initial skeleton/structure for resource page as array of objects * Level -1 : 3 Registries (Database, Standards, Policy) * Level -2 : 14 Record types (e.g knowledgebase, repository, metric etc. ) * @returns {Array} - Array of objects */ async createResourceStructure(record) { await this.fetchAllRecordTypes() let topResources = [...new Set(this.allRecordTypes[\"records\"].map(({fairsharingRegistry}) =&gt; fairsharingRegistry[\"name\"]))] //Filtering topResource/registry topResources = topResources.filter(item =&gt; item === record) //Converting array of topResource/registry to object const topResourceTypeObj = topResources.map((name) =&gt; ({name})) //Creating Array of object for topResource/registry with chidlren (array of objects) topResourceTypeObj.forEach((ele) =&gt; { ele[\"children\"] = [] this.allRecordTypes[\"records\"].filter(({name, fairsharingRegistry}) =&gt; { if(fairsharingRegistry[\"name\"] === ele[\"name\"]) { ele[\"children\"].push({ name: this.normalString(name), records_count: 0 }) } }) if (ele[\"name\"] === \"Database\") { ele[\"name\"] = \"Database\" ele[\"tree_id\"] = 1 ele[\"children\"].forEach(child =&gt; child[\"tree_id\"] = 1) } else if (ele[\"name\"] === \"Standard\") { ele[\"name\"] = \"Standards\" ele[\"tree_id\"] = 2 ele[\"children\"].forEach(child =&gt; child[\"tree_id\"] = 2) } else if (ele[\"name\"] === \"Policy\") { ele[\"name\"] = \"Policies\" ele[\"tree_id\"] = 3 ele[\"children\"].forEach(child =&gt; child[\"tree_id\"] = 3) } allResourceData[\"children\"].length = 0 allResourceData[\"children\"].push(ele) }) return allResourceData }, } } export default createResourceStructure; × Search results Close "},"store_nodeListStore.js.html":{"id":"store_nodeListStore.js.html","title":"Source: store/nodeListStore.js","body":" FAIRsharing.org Classes GraphQLClientRESTClient Global deleteNodegetResourceRecordsisNodePresentpathTototalResourceRecords Source: store/nodeListStore.js const state = { nodeList: { resourceNodeList: [], subjectNodeList: [], domainNodeList: [] }, nodeFound: { isResourceNode: false, isSubjectNode: false, isDomainNode: false, } }; /** * * @param recordArray - array of records * @param nodeItem - Object of a record * @returns {boolean} */ const isNodePresent = (recordArray, nodeItem) =&gt; { return recordArray.find(({records}) =&gt; records === nodeItem[\"records\"]) } /** * * @param recordArray - array of records * @param nodeItem - Object of a record */ const deleteNode = (recordArray, nodeItem) =&gt; { recordArray.splice(recordArray.indexOf(nodeItem), 1) } const actions = { resetNodeLists({commit}) { commit('resetNodeLists'); } } const mutations = { nodeLists (state, [nodeItem, routeName]) { let {resourceNodeList, subjectNodeList, domainNodeList} = state.nodeList // When Resource Node is selected if ((routeName === \"DatabaseView\") || (routeName === \"StandardsView\") || (routeName === \"PoliciesView\")) { const isFound = isNodePresent(resourceNodeList, nodeItem) if(!isFound) { resourceNodeList.push(nodeItem) state.nodeFound[\"isResourceNode\"] = false } else { state.nodeFound[\"isResourceNode\"] = true } } // When Subject Node is selected if (routeName === \"SubjectTypeView\") { const isFound = isNodePresent(subjectNodeList, nodeItem) if(!isFound) { subjectNodeList.push(nodeItem) state.nodeFound[\"isSubjectNode\"] = false } else { state.nodeFound[\"isSubjectNode\"] = true } } // When Domain Node is selected if (routeName === \"DomainTypeView\") { const isFound = isNodePresent(domainNodeList, nodeItem) if(!isFound) { domainNodeList.push(nodeItem) state.nodeFound[\"isDomainNode\"] = false } else { state.nodeFound[\"isDomainNode\"] = true } } }, deleteNode(state, nodeItem) { let {resourceNodeList, subjectNodeList, domainNodeList} = state.nodeList const {type} = nodeItem // For Resource Node is selected if ((type === \"resource\") || (type === \"resourceParent\")) { deleteNode(resourceNodeList, nodeItem) } else if (type === \"subject\") { deleteNode(subjectNodeList, nodeItem) } else if (type === \"domain\") { deleteNode(domainNodeList, nodeItem) } }, resetNodeLists(state) { state.nodeList = { resourceNodeList: [], subjectNodeList: [], domainNodeList: [] } }, resetNodeFound(state) { state.nodeFound = { isResourceNode: false, isSubjectNode: false, isDomainNode: false, } }, }; const getters = { getNodeList(state) { return state.nodeList; }, getNodeFound(state) { return state.nodeFound; } } const nodeListStore = { namespaced: true, state, getters, mutations, actions } export default nodeListStore × Search results Close "},"utils_ResourceUtils_getResourceRecords.js.html":{"id":"utils_ResourceUtils_getResourceRecords.js.html","title":"Source: utils/ResourceUtils/getResourceRecords.js","body":" FAIRsharing.org Classes GraphQLClientRESTClient Global deleteNodegetResourceRecordsisNodePresentpathTototalResourceRecords Source: utils/ResourceUtils/getResourceRecords.js const formatString = (name) =&gt; { return name.replace(/\\s/g, '_').toLowerCase() } /** * @param {Array} - ResourceType * @returns {Array} - records of the resource */ const getResourceRecords = (resourceType) =&gt; { if (resourceType.children &amp;&amp; resourceType.children.length) { return resourceType.children.map(({name}) =&gt; formatString(name)) } else { return resourceType._children.map(({name}) =&gt; formatString(name)) } } export default getResourceRecords; × Search results Close "},"components_Resource_Database.vue.html":{"id":"components_Resource_Database.vue.html","title":"Source: components/Resource/Database.vue","body":" FAIRsharing.org Classes GraphQLClientRESTClient Global deleteNodegetResourceRecordsisNodePresentpathTototalResourceRecords Source: components/Resource/Database.vue &lt;template&gt; &lt;div&gt; &lt;v-fade-transition v-if=\"loading\"&gt; &lt;v-overlay :absolute=\"false\" opacity=\"0.8\" &gt; &lt;Loaders /&gt; &lt;/v-overlay&gt; &lt;/v-fade-transition&gt; &lt;div ref=\"breadcrumbdiv\" class=\"breadcrumbs my-8\" &gt; &lt;span v-for=\"(name, i) in getBreadCrumbs\" :key=\"name\" class=\"breadCrumbName\" &gt;{{ name }} &lt;span v-if=\"i+1 &lt; getBreadCrumbs.length\" class=\"connector\" &gt; &gt; &lt;/span&gt; &lt;/span&gt; &lt;/div&gt; &lt;div ref=\"chartdiv\" class=\"bubbleChart\" /&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; import {mapActions, mapGetters, mapState} from \"vuex\" import calculateResourceRecords from \"@/utils/ResourceUtils/calculateResourceRecords\" import createResourceStructure from \"@/utils/ResourceUtils/createResourceStructure\"; import StringMixin from \"@/utils/Others/stringMixin.js\" import Loaders from \"@/components/Loaders/Loaders\" import { svgGraph, forceGraph, parseLevel, update, toggle } from \"@/lib/D3GraphClient\"; import totalResourceRecords from \"@/utils/ResourceUtils/totalResourceRecords\"; import getRecords from \"@/utils/Others/getRecords\"; import getResourceRecords from \"@/utils/ResourceUtils/getResourceRecords\"; export default { name: 'Database', components: { Loaders }, mixins: [StringMixin, calculateResourceRecords, createResourceStructure], data:() =&gt; { return { loading: false, fairSharingButton: false, showResourceSelected: false, allResourceData: {}, itemClicked: \"\", recordTypesList: [], subjectSelected: \"\", domainSelected: \"\", databaseData: [] } }, computed:{ ...mapGetters(\"bubbleSelectedStore\", ['getTopResource','getResource','getSubject', 'getDomain']), ...mapGetters(\"otherResourcesSelectedStore\", [\"getOtherResourceSelected\"]), ...mapGetters(\"breadCrumbStore\", [\"getBreadCrumbs\"]), ...mapState(\"recordTypeStore\", [\"allRecordTypes\", \"loadingData\"]), ...mapGetters(\"nodeListStore\", [\"getNodeList\"]), }, watch:{ //Enable Refine and Fairsharing buttion when resource is added to nodeList getNodeList:{ handler(val, oldVal) { if (val.resourceNodeList &amp;&amp; val.resourceNodeList.length) { this.$emit('enableFairSharingButton', true) } else if(oldVal.resourceNodeList &amp;&amp; !oldVal.resourceNodeList.length){ this.$emit('enableFairSharingButton', false) } }, deep: true } }, async mounted() { this.$nextTick(async () =&gt;{ this.loading = true await this.displayResources() await this.d3Chart() this.loading = false }) }, destroyed() { this.leavePage() this.resetVariableTags() this.resetRecords() this.resetbreadCrumbs() this.resetOtherResourceSelected() }, methods: { ...mapActions(\"browseSubjectsStore\", [\"leavePage\"]), ...mapActions(\"variableTagStore\", [ \"resetVariableTags\"]), ...mapActions(\"recordTypeStore\", [\"fetchAllRecordTypes\", \"resetRecords\"]), ...mapActions(\"breadCrumbStore\", [\"resetbreadCrumbs\"]), ...mapActions(\"otherResourcesSelectedStore\", [\"resetOtherResourceSelected\"]), async displayResources() { const { subjectNodeList, domainNodeList } = this.getNodeList this.allResourceData = await this.createResourceStructure(\"Database\") this.databaseData = this.allResourceData[\"children\"][0] const otherResourceType = this.databaseData[\"children\"] //When No Subject and Domain is selected if (subjectNodeList.length === 0 &amp;&amp; domainNodeList.length === 0) { // eslint-disable-next-line no-console console.log(\"ALL Database\") await this.calculateRecords(getResourceRecords(this.databaseData), null, null, otherResourceType) const totalRecords = totalResourceRecords(this.getOtherResourceSelected) this.allResourceData[\"children\"][0].records_count = totalRecords } //When Subject/Domain is/are selected else{ this.subjectSelected = subjectNodeList.length ? getRecords(subjectNodeList) : null this.domainSelected = domainNodeList.length ? getRecords(domainNodeList) : null await this.calculateRecords(null, this.subjectSelected, this.domainSelected, otherResourceType) } }, /** * Plotting the hierarchy bubble chart using d3Js library */ async d3Chart() { const routeName = this.$route.name const force = forceGraph() const divSelected = this.$refs.chartdiv; const svg = svgGraph(divSelected) const root = this.allResourceData parseLevel(root, 0); // Initialize the display to show level 1 root.children.forEach(toggle); update(root, force, svg, divSelected, routeName); } } } &lt;/script&gt; &lt;style lang=\"scss\" scoped&gt; @import \"@/lib/D3GraphClient/Styles/d3graph.scss\"; &lt;/style&gt; × Search results Close "},"components_Resource_Policies.vue.html":{"id":"components_Resource_Policies.vue.html","title":"Source: components/Resource/Policies.vue","body":" FAIRsharing.org Classes GraphQLClientRESTClient Global deleteNodegetResourceRecordsisNodePresentpathTototalResourceRecords Source: components/Resource/Policies.vue &lt;template&gt; &lt;div&gt; &lt;v-fade-transition v-if=\"loading\"&gt; &lt;v-overlay :absolute=\"false\" opacity=\"0.8\" &gt; &lt;Loaders /&gt; &lt;/v-overlay&gt; &lt;/v-fade-transition&gt; &lt;div ref=\"breadcrumbdiv\" class=\"breadcrumbs my-8\" &gt; &lt;span v-for=\"(name, i) in getBreadCrumbs\" :key=\"name\" class=\"breadCrumbName\" &gt;{{ name }} &lt;span v-if=\"i+1 &lt; getBreadCrumbs.length\" class=\"connector\" &gt; &gt; &lt;/span&gt; &lt;/span&gt; &lt;/div&gt; &lt;div id=\"resourceBubbleChart\" ref=\"chartdiv\" class=\"charts\" /&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; import {mapActions, mapGetters, mapState} from \"vuex\" import calculateResourceRecords from \"@/utils/ResourceUtils/calculateResourceRecords\" import createResourceStructure from \"@/utils/ResourceUtils/createResourceStructure\" import StringMixin from \"@/utils/Others/stringMixin.js\" import Loaders from \"@/components/Loaders/Loaders\" import totalResourceRecords from \"@/utils/ResourceUtils/totalResourceRecords\" import {forceGraph, parseLevel, svgGraph, toggle, update} from \"@/lib/D3GraphClient\"; import getRecords from \"@/utils/Others/getRecords\"; import getResourceRecords from \"@/utils/ResourceUtils/getResourceRecords\"; export default { name: 'Policies', components: { Loaders }, mixins: [StringMixin, calculateResourceRecords, createResourceStructure], data:() =&gt; { return { loading: false, fairSharingButton: false, showResourceSelected: false, allResourceData: {}, itemClicked: \"\", recordTypesList: [], subjectSelected: \"\", domainSelected: \"\", policyData: [], } }, computed:{ ...mapGetters(\"bubbleSelectedStore\", ['getTopResource','getResource','getSubject', 'getDomain']), ...mapGetters(\"otherResourcesSelectedStore\", [\"getOtherResourceSelected\"]), ...mapGetters(\"breadCrumbStore\", [\"getBreadCrumbs\"]), ...mapState(\"recordTypeStore\", [\"allRecordTypes\", \"loadingData\"]), ...mapGetters(\"nodeListStore\", [\"getNodeList\"]), }, watch:{ //Enable Refine and Fairsharing buttion when resource is added to nodeList getNodeList:{ handler(val, oldVal) { if (val.resourceNodeList &amp;&amp; val.resourceNodeList.length) { this.$emit('enableFairSharingButton', true) } else if(oldVal.resourceNodeList &amp;&amp; !oldVal.resourceNodeList.length){ this.$emit('enableFairSharingButton', false) } }, deep: true } }, async mounted() { this.$nextTick(async () =&gt;{ this.loading = true await this.displayResources() await this.d3Chart() this.loading = false }) }, destroyed() { this.leavePage() this.resetVariableTags() this.resetRecords() this.resetbreadCrumbs() this.resetOtherResourceSelected() }, methods: { ...mapActions(\"browseSubjectsStore\", [\"leavePage\"]), ...mapActions(\"variableTagStore\", [ \"resetVariableTags\"]), ...mapActions(\"recordTypeStore\", [\"fetchAllRecordTypes\", \"resetRecords\"]), ...mapActions(\"breadCrumbStore\", [\"resetbreadCrumbs\"]), ...mapActions(\"otherResourcesSelectedStore\", [\"resetOtherResourceSelected\"]), async displayResources() { const { subjectNodeList, domainNodeList } = this.getNodeList this.allResourceData = await this.createResourceStructure(\"Policy\") this.policyData = this.allResourceData[\"children\"][0] const otherResourceType = this.policyData[\"children\"] //When No Subject and Domain is selected if (subjectNodeList.length === 0 &amp;&amp; domainNodeList.length === 0) { // eslint-disable-next-line no-console console.log(\"ALL Policies\") await this.calculateRecords(getResourceRecords(this.policyData), null, null, otherResourceType) const totalRecords = totalResourceRecords(this.getOtherResourceSelected) this.allResourceData[\"children\"][0].records_count = totalRecords } //When Subject/Domain is/are selected else{ this.subjectSelected = subjectNodeList.length ? getRecords(subjectNodeList) : null this.domainSelected = domainNodeList.length ? getRecords(domainNodeList) : null await this.calculateRecords(null, this.subjectSelected, this.domainSelected, otherResourceType) } }, /** * Plotting the hierarchy bubble chart using d3Js library */ async d3Chart() { const routeName = this.$route.name const force = forceGraph() const divSelected = this.$refs.chartdiv; const svg = svgGraph(divSelected) const root = this.allResourceData parseLevel(root, 0); // Initialize the display to show level 1 root.children.forEach(toggle); update(root, force, svg, divSelected, routeName); }, } } &lt;/script&gt; &lt;style lang=\"scss\" scoped&gt; @import \"@/lib/D3GraphClient/Styles/d3graph.scss\"; &lt;/style&gt; × Search results Close "},"components_Resource_Standards.vue.html":{"id":"components_Resource_Standards.vue.html","title":"Source: components/Resource/Standards.vue","body":" FAIRsharing.org Classes GraphQLClientRESTClient Global deleteNodegetResourceRecordsisNodePresentpathTototalResourceRecords Source: components/Resource/Standards.vue &lt;template&gt; &lt;div&gt; &lt;v-fade-transition v-if=\"loading\"&gt; &lt;v-overlay :absolute=\"false\" opacity=\"0.8\" &gt; &lt;Loaders /&gt; &lt;/v-overlay&gt; &lt;/v-fade-transition&gt; &lt;div ref=\"breadcrumbdiv\" class=\"breadcrumbs my-8\" &gt; &lt;span v-for=\"(name, i) in getBreadCrumbs\" :key=\"name\" class=\"breadCrumbName\" &gt;{{ name }} &lt;span v-if=\"i+1 &lt; getBreadCrumbs.length\" class=\"connector\" &gt; &gt; &lt;/span&gt; &lt;/span&gt; &lt;/div&gt; &lt;div ref=\"chartdiv\" class=\"bubbleChart\" /&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; import {mapActions, mapGetters, mapState} from \"vuex\" import calculateResourceRecords from \"@/utils/ResourceUtils/calculateResourceRecords\" import createResourceStructure from \"@/utils/ResourceUtils/createResourceStructure\"; import StringMixin from \"@/utils/Others/stringMixin.js\" import Loaders from \"@/components/Loaders/Loaders\" import { svgGraph, forceGraph, parseLevel, update, toggle } from \"@/lib/D3GraphClient\"; import totalResourceRecords from \"@/utils/ResourceUtils/totalResourceRecords\"; import getRecords from \"@/utils/Others/getRecords\"; import getResourceRecords from \"@/utils/ResourceUtils/getResourceRecords\" export default { name: 'Standards', components: { Loaders }, mixins: [StringMixin, calculateResourceRecords, createResourceStructure], data:() =&gt; { return { loading: false, fairSharingButton: false, showResourceSelected: false, allResourceData: {}, itemClicked: \"\", recordTypesList: [], subjectSelected: \"\", domainSelected: \"\", standardData: [] } }, computed:{ ...mapGetters(\"bubbleSelectedStore\", ['getTopResource','getResource','getSubject', 'getDomain']), ...mapGetters(\"otherResourcesSelectedStore\", [\"getOtherResourceSelected\"]), ...mapGetters(\"breadCrumbStore\", [\"getBreadCrumbs\"]), ...mapState(\"recordTypeStore\", [\"allRecordTypes\", \"loadingData\"]), ...mapGetters(\"nodeListStore\", [\"getNodeList\"]), }, watch:{ //Enable Refine and Fairsharing buttion when resource is added to nodeList getNodeList:{ handler(val, oldVal) { if (val.resourceNodeList &amp;&amp; val.resourceNodeList.length) { this.$emit('enableFairSharingButton', true) } else if(oldVal.resourceNodeList &amp;&amp; !oldVal.resourceNodeList.length){ this.$emit('enableFairSharingButton', false) } }, deep: true } }, async mounted() { this.$nextTick(async () =&gt;{ this.loading = true await this.displayResources() await this.d3Chart() this.loading = false }) }, destroyed() { this.leavePage() this.resetVariableTags() this.resetRecords() this.resetbreadCrumbs() this.resetOtherResourceSelected() }, methods: { ...mapActions(\"browseSubjectsStore\", [\"leavePage\"]), ...mapActions(\"variableTagStore\", [ \"resetVariableTags\"]), ...mapActions(\"recordTypeStore\", [\"fetchAllRecordTypes\", \"resetRecords\"]), ...mapActions(\"breadCrumbStore\", [\"resetbreadCrumbs\"]), ...mapActions(\"otherResourcesSelectedStore\", [\"resetOtherResourceSelected\"]), async displayResources() { const { subjectNodeList, domainNodeList } = this.getNodeList this.allResourceData = await this.createResourceStructure(\"Standard\") this.standardData = this.allResourceData[\"children\"][0] const otherResourceType = this.standardData[\"children\"] //When No Subject and Domain is selected if (subjectNodeList.length === 0 &amp;&amp; domainNodeList.length === 0) { // eslint-disable-next-line no-console console.log(\"ALL Standards\") await this.calculateRecords(getResourceRecords(this.standardData), null, null, otherResourceType) const totalRecords = totalResourceRecords(this.getOtherResourceSelected) this.allResourceData[\"children\"][0].records_count = totalRecords } //When Subject/Domain is/are selected else{ this.subjectSelected = subjectNodeList.length ? getRecords(subjectNodeList) : null this.domainSelected = domainNodeList.length ? getRecords(domainNodeList) : null await this.calculateRecords(null, this.subjectSelected, this.domainSelected, otherResourceType) } }, /** * Plotting the hierarchy bubble chart using d3Js library */ async d3Chart() { const routeName = this.$route.name const force = forceGraph() const divSelected = this.$refs.chartdiv; const svg = svgGraph(divSelected) const root = this.allResourceData parseLevel(root, 0); // Initialize the display to show level 1 root.children.forEach(toggle); update(root, force, svg, divSelected, routeName); }, } } &lt;/script&gt; &lt;style lang=\"scss\" scoped&gt; @import \"@/lib/D3GraphClient/Styles/d3graph.scss\"; &lt;/style&gt; × Search results Close "},"lib_D3GraphClient_breadcrumb.js.html":{"id":"lib_D3GraphClient_breadcrumb.js.html","title":"Source: lib/D3GraphClient/breadcrumb.js","body":" FAIRsharing.org Classes GraphQLClientRESTClient Global deleteNodegetResourceRecordsisNodePresentpathTototalResourceRecords Source: lib/D3GraphClient/breadcrumb.js import breadCrumbStore from \"@/store\" const breadcrumb = (d, root) =&gt; { const breadCrumbArray = pathTo(root, d.name) // const breadCrumbBar = breadCrumbArray.map(d =&gt; d.name).join(\" &gt; \") const breadCrumbBar = breadCrumbArray.map(({name}) =&gt; name) breadCrumbStore.commit(\"breadCrumbStore/displayBreadCrumbs\", breadCrumbBar) } /** * * @param {String} - name * @param {Array } - node (All the nodes) * @returns {Array} */ const pathTo = (node, name, depth = 1) =&gt; { if (node.name === name) return []; let childNodes = node._children?.length ? node._children : node.children const hasChild = node.children?.length ? true : false if (hasChild) { for (let submenu of childNodes) { let result = pathTo(submenu, name, depth + 1); if (result) { return [{ name: submenu.name }, ...result ]; } } } } export default breadcrumb × Search results Close "},"utils_Others_recordTypes.js.html":{"id":"utils_Others_recordTypes.js.html","title":"Source: utils/Others/recordTypes.js","body":" FAIRsharing.org Classes GraphQLClientRESTClient Global deleteNodegetResourceRecordsisNodePresentpathTototalResourceRecords Source: utils/Others/recordTypes.js import {mapActions, mapGetters, mapState} from 'vuex' const recordTypes = { computed:{ ...mapGetters(\"bubbleSelectedStore\", [\"getTopResource\"]), ...mapState(\"recordTypeStore\", [\"allRecordTypes\"]), }, methods: { ...mapActions(\"recordTypeStore\", [\"fetchAllRecordTypes\"]), /** * Rename the top resources * @returns {string} */ topResource() { switch(this.getTopResource) { case \"Standards\": return \"Standard\" case \"Policies\": return \"Policy\" default: return this.getTopResource } }, /** * Fetch the records according the registry selected * @param arr - the array to store the records * @returns {Promise} - records stored according to registry selected */ async allOtherRecordTypes(arr) { await this.fetchAllRecordTypes() this.allRecordTypes[\"records\"].filter(({name, fairsharingRegistry}) =&gt;{ if (this.topResource() === fairsharingRegistry[\"name\"]) { arr.push(name) } }) return arr }, } } export default recordTypes; × Search results Close "},"utils_ResourceUtils_totalResourceRecords.js.html":{"id":"utils_ResourceUtils_totalResourceRecords.js.html","title":"Source: utils/ResourceUtils/totalResourceRecords.js","body":" FAIRsharing.org Classes GraphQLClientRESTClient Global deleteNodegetResourceRecordsisNodePresentpathTototalResourceRecords Source: utils/ResourceUtils/totalResourceRecords.js /** * @param {Array} - otherResourceType * @returns {Number} - Total number of records for resource type */ const totalResourceRecords = (otherResourceType) =&gt; { const noNullotherResource = otherResourceType.filter(n =&gt; n) return noNullotherResource.reduce((accum,item) =&gt; accum + item.records_count, 0) } export default totalResourceRecords; × Search results Close "},"global.html":{"id":"global.html","title":"Global","body":" FAIRsharing.org Classes GraphQLClientRESTClient Global deleteNodegetResourceRecordsisNodePresentpathTototalResourceRecords Global Methods deleteNode(recordArray, nodeItem) Parameters: Name Type Description recordArray array of records nodeItem Object of a record Source: store/nodeListStore.js, line 28 getResourceRecords() Parameters: Type Description Array ResourceType Source: utils/ResourceUtils/getResourceRecords.js, line 10 Returns: records of the resource Type Array isNodePresent(recordArray, nodeItem) Parameters: Name Type Description recordArray array of records nodeItem Object of a record Source: store/nodeListStore.js, line 19 Returns: Type boolean pathTo() Parameters: Type Description String name Array node (All the nodes) Source: lib/D3GraphClient/breadcrumb.js, line 16 Returns: Type Array totalResourceRecords() Parameters: Type Description Array otherResourceType Source: utils/ResourceUtils/totalResourceRecords.js, line 5 Returns: Total number of records for resource type Type Number × Search results Close "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" FAIRsharing.org Classes GraphQLClientRESTClient Global deleteNodegetResourceRecordsisNodePresentpathTototalResourceRecords Classes Classes GraphQLClient RESTClient Methods deleteNode(recordArray, nodeItem) Parameters: Name Type Description recordArray array of records nodeItem Object of a record Source: store/nodeListStore.js, line 28 getResourceRecords() Parameters: Type Description Array ResourceType Source: utils/ResourceUtils/getResourceRecords.js, line 10 Returns: records of the resource Type Array isNodePresent(recordArray, nodeItem) Parameters: Name Type Description recordArray array of records nodeItem Object of a record Source: store/nodeListStore.js, line 19 Returns: Type boolean pathTo() Parameters: Type Description String name Array node (All the nodes) Source: lib/D3GraphClient/breadcrumb.js, line 16 Returns: Type Array totalResourceRecords() Parameters: Type Description Array otherResourceType Source: utils/ResourceUtils/totalResourceRecords.js, line 5 Returns: Total number of records for resource type Type Number × Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" FAIRsharing.org Classes GraphQLClientRESTClient Global deleteNodegetResourceRecordsisNodePresentpathTototalResourceRecords FAIRsharing-Assistant Project setup npm install Compiles and hot-reloads for development npm run serve Compiles and minifies for production npm run build Lints and fixes files npm run lint Customize configuration See Configuration Reference. × Search results Close "},"GraphQLClient.html":{"id":"GraphQLClient.html","title":"Class: GraphQLClient","body":" FAIRsharing.org Classes GraphQLClientRESTClient Global deleteNodegetResourceRecordsisNodePresentpathTototalResourceRecords Class: GraphQLClient GraphQLClient new GraphQLClient() The GraphQLClient retrieves data from the FAIRSharing API and sends it to the front-end. Be careful, this is a singleton and trying to cast new instances will return the existing instance. Be also careful, its constructor is async !! Source: lib/GraphClient/GraphClient.js, line 12 Returns: to use this object you need to do \"await new ClassName()\" or use .then(callback) Type Promise Methods buildQuery(query) Transform the JSON query into a string for graphQL Parameters: Name Type Description query Object the query coming from the JSON file Source: lib/GraphClient/GraphClient.js, line 60 Returns: {query: queryString} - a valid graphQL query string to execute Type Object &lt;async&gt; executeQuery(query) Execute the given query (coming from a json file, see /queries/getRecords.json) Parameters: Name Type Description query Object the query coming from the JSON file sending to the API. Source: lib/GraphClient/GraphClient.js, line 27 Returns: Type Promise &lt;async&gt; getData(queryString) Takes the query, post it with axios and returns the raw data Parameters: Name Type Description queryString Object processed request coming out of buildQuery() or a GraphQL query string Source: lib/GraphClient/GraphClient.js, line 44 Returns: an axios promise representing the server response. Type Promise setHeader(jwt) Add the authorization token to the headers Parameters: Name Type Description jwt String the user json web token Source: lib/GraphClient/GraphClient.js, line 127 × Search results Close "},"RESTClient.html":{"id":"RESTClient.html","title":"Class: RESTClient","body":" FAIRsharing.org Classes GraphQLClientRESTClient Global deleteNodegetResourceRecordsisNodePresentpathTototalResourceRecords Class: RESTClient RESTClient new RESTClient() The RESTClient is a singleton class that handles the connection and data exchange from the back-end REST API. Source: lib/Client/RESTClient.js, line 9 Methods &lt;async&gt; executeQuery(query) Trigger the given query with Axios Parameters: Name Type Description query Source: lib/Client/RESTClient.js, line 28 Returns: Type Promise.&lt;*&gt; &lt;async&gt; getRecordsData() Get records data Source: lib/Client/RESTClient.js, line 41 Returns: Type Promise × Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
